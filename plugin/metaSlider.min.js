!function(){"use strict";var e={311:function(e){e.exports=jQuery}},t={};function i(s){var r=t[s];if(void 0!==r)return r.exports;var a=t[s]={exports:{}};return e[s](a,a.exports,i),a.exports}!function(){var e={mainColor:"string",secondColor:"string",colorMarker:"string",colorThumb:"string",colorTextForMarker:"string",colorBorderForMarker:"string",colorBorderForThumb:"string",colorForScale:"string",preFix:"string",postFix:"string",initFormatted:"boolean",initAutoMargins:"boolean",initScaleAdjustment:"boolean",calcNumberOfDecimalPlaces:"boolean",showError:"boolean",showScale:"boolean",showMarkers:"boolean",showBackground:"boolean",isRange:"boolean",isVertical:"boolean",initAutoScaleCreation:"boolean",checkingStepSizeForScale:"boolean",step:"number",minValue:"number",maxValue:"number",numberOfDecimalPlaces:"number",stepSizeForScale:"number",initValueFirst:"number",initValueSecond:"number"},t=i(311);var s={key:"",$selector:t(),$elemSlider:t(),$sliderProgress:t(),$elemMarkers:t(),$elemScale:t(),$elemThumbs:t(),mainColor:"#6d6dff",secondColor:"#e4e4e4",colorMarker:"",colorThumb:"",colorTextForMarker:"#ffffff",colorBorderForMarker:"#ffffff",colorBorderForThumb:"#ffffff",colorForScale:"#000000",initFormatted:!0,initAutoMargins:!0,initScaleAdjustment:!0,calcNumberOfDecimalPlaces:!0,showError:!1,showScale:!0,showMarkers:!0,showBackground:!0,isRange:!0,isVertical:!1,initAutoScaleCreation:!0,checkingStepSizeForScale:!1,step:1,stepAsPercent:0,minValue:0,maxValue:0,stepSizeForScale:null,numberOfDecimalPlaces:0,preFix:"",postFix:"",customValues:[],initValueFirst:null,initValueSecond:null,initValuesArray:[],textValueFirst:"",textValueSecond:"",textValuesArray:[],valuesAsPercentageArray:[]};var r=class{constructor(e,t){this._view=e,this._model=t}renderSlider(e){this._view.renderSlider(e)}setObservers(){this._model.subscribe(this.updateViews.bind(this)),this._model.errorEvent.subscribe(this.renderError.bind(this)),this._view.subscribe(this.updateModel.bind(this))}renderError(e,t){this._view.renderError(e,t)}updateViews(e){this._view.updateViews(e)}updateModel(e,t,i=!1){this._model.calcTargetValue(i,t,e)}};var a=class{observerList=[];subscribe(e){if("function"!=typeof e)throw new Error("Add observer must be a function");this.observerList.forEach((t=>{if(t===e)throw new Error("Observer already in the list")})),this.observerList.push(e)}unsubscribe(e){this.observerList=this.observerList.filter((t=>t!==e))}notify(...e){this.observerList.forEach((t=>t(...e)))}};var o=class extends a{errorEvent=new a;_listSavedStatus={};constructor(e,t){super(),this.opt=t,this.opt.$selector=e}init(){this.opt.key="init",this._getSliderSelectors(),this._checkingIncomingProp(),this._calcValuesInPercentage(),this.notify(this.opt)}update(){this._checkingIncomingProp(),this._calcValuesInPercentage(),this.notify(this.opt)}calcTargetValue(e,t,i){const{$elemSlider:s,isVertical:r,minValue:a,maxValue:o,step:l,stepAsPercent:n,numberOfDecimalPlaces:c}=this.opt;let h=0,u=0,m=0,d=0,p=0;if(r&&i)h=i.clientY,u=s[0].getBoundingClientRect().bottom,m=s[0].getBoundingClientRect().height,d=u-h;else if(!r&&i){var S;h=i.clientX,u=(null===(S=s.offset())||void 0===S?void 0:S.left)||0,m=s.outerWidth()||0,d=h-u}p=void 0!==t?(t-a)/(o-a)*100:d/m*100;let _=Math.round(p/n)*n;_<0&&(_=0),_>100&&(_=100);const b=Number((_/n*l+a).toFixed(c));return e?b:(this._checkingTargetValue(b),null)}_checkingTargetValue(e){const{initValuesArray:t,isRange:i}=this.opt,{activeThumb:s}=this._listSavedStatus,r=(t[0]+t[1])/2,a="second";e===r&&(s==="first"?t[0]=e:s===a?t[1]=e:t[0]=e),e<r&&i?(t[0]=e,this._listSavedStatus.activeThumb="first"):(e>r||!i)&&(t[1]=e,this._listSavedStatus.activeThumb="second"),this._calcValuesInPercentage(),this._setCurrentValues()}_calcValuesInPercentage(){const{initValuesArray:e,minValue:t,maxValue:i}=this.opt;this.opt.valuesAsPercentageArray=e.map((e=>(e-t)/(i-t)*100))}_setCurrentValues(){const{initValuesArray:e,customValues:t}=this.opt,[i,s]=e;this.opt.initValueFirst=i,this.opt.initValueSecond=s,t.length>0&&(this.opt.textValueFirst=String(t[this.opt.initValueFirst]),this.opt.textValueSecond=String(t[this.opt.initValueSecond]),this.opt.textValuesArray=[this.opt.textValueFirst,this.opt.textValueSecond]),this.opt.key="changedValue",this.notify(this.opt)}_calcStepAsPercentage(){const{key:e}=this.opt;if(["init","step","maxValue","minValue","customValues","numberOfDecimalPlaces"].includes(e)){const{maxValue:e,minValue:t,step:i}=this.opt;this.opt.stepAsPercent=100/((e-t)/i)}}_checkingIncomingProp(){const e={initValue:"An error occurred in the input data for one or more thumbs of the slider.\n        The default value is set.",minAndMaxValue:"The maximum value set for the slider is less than its minimum value.\n        The default value is set.",stepSizeForScale:"Set the correct step value for the division scale.\n        The closest optimal value has been set.",step:"The slider step value cannot be greater than the difference between max. and min. value, and less than or equal to 0."};this._checkingIsVerticalSlider(),this._checkingNumberOfDecimalPlaces(),this._checkingMinMaxValues(e),this._checkingShowScaleStatus(),this._checkingStepSize(e),this._checkingCustomValues(),this._calcStepAsPercentage(),this._checkingInitValues(e)}_getSliderSelectors(){const{$selector:e}=this.opt;this.opt.$elemSlider=e.find(".js-meta-slider"),this.opt.$sliderProgress=e.find(".js-meta-slider__progress"),this.opt.$elemThumbs=e.find(".js-meta-slider__thumb"),this.opt.$elemMarkers=e.find(".js-meta-slider__marker"),this.opt.$elemScale=e.find(".js-meta-slider__scale")}_checkingIsVerticalSlider(){const{key:e,isVertical:t,initAutoMargins:i}=this.opt,{verticalSliderKeys:s,autoMarginsKeys:r}={verticalSliderKeys:["init","isVertical"],autoMarginsKeys:["init","initAutoMargins"]};r.includes(e)&&(this._listSavedStatus.autoMargins=i),s.includes(e)&&!t&&(this.opt.initAutoMargins=Boolean(this._listSavedStatus.autoMargins)),s.includes(e)&&t&&(this.opt.initAutoMargins=!1)}_checkingNumberOfDecimalPlaces(){const{key:e,calcNumberOfDecimalPlaces:t}=this.opt,{getNumberKeys:i,checkNumberKeys:s}={getNumberKeys:["init","calcNumberOfDecimalPlaces","initValueFirst","initValueSecond","minValue","maxValue","step"],checkNumberKeys:["init","numberOfDecimalPlaces"]};i.includes(e)&&t&&this._getNumberOfDecimalPlaces(),s.includes(e)&&(this.opt.numberOfDecimalPlaces<0&&(this.opt.numberOfDecimalPlaces=0),Number.isInteger(this.opt.numberOfDecimalPlaces)||(this.opt.numberOfDecimalPlaces=Number(this.opt.numberOfDecimalPlaces.toFixed())))}_getNumberOfDecimalPlaces(){const e=["minValue","maxValue","step"].map((e=>this.opt[e].toString().includes(".")?this.opt[e].toString().match(/\.(\d+)/)[1].length:0));this.opt.numberOfDecimalPlaces=Math.max(...e)}_checkingMinMaxValues(e){const{key:t,initValueFirst:i,initValueSecond:s,minValue:r,maxValue:a,numberOfDecimalPlaces:o}=this.opt;["init","minValue","maxValue","numberOfDecimalPlaces"].includes(t)&&(this.opt.minValue=Number(r.toFixed(o)),this.opt.maxValue=Number(a.toFixed(o)),this.opt.minValue>this.opt.maxValue&&this.errorEvent.notify(e.minAndMaxValue,this.opt),this.opt.minValue>=this.opt.maxValue&&(this.opt.minValue=i??0,this.opt.maxValue=s??100))}_checkingShowScaleStatus(){const{key:e,showScale:t,initAutoScaleCreation:i,initScaleAdjustment:s,checkingStepSizeForScale:r}=this.opt,a="showScale";!t&&["init",a].includes(e)?(this._listSavedStatus.initAutoScaleCreation=i,this._listSavedStatus.initScaleAdjustment=s,this._listSavedStatus.checkingStepSizeForScale=r,this.opt.initAutoScaleCreation=!1,this.opt.initScaleAdjustment=!1,this.opt.checkingStepSizeForScale=!1):t&&e===a&&(this.opt.initAutoScaleCreation=Boolean(this._listSavedStatus.initAutoScaleCreation),this.opt.initScaleAdjustment=Boolean(this._listSavedStatus.initScaleAdjustment),this.opt.checkingStepSizeForScale=Boolean(this._listSavedStatus.checkingStepSizeForScale))}_checkingStepSize(e){this.opt.stepSizeForScale=this.opt.stepSizeForScale??this.opt.step;const{key:t,maxValue:i,minValue:s,numberOfDecimalPlaces:r,initAutoScaleCreation:a}=this.opt,o=i-s;["init","initAutoScaleCreation","step","stepSizeForScale","maxValue","minValue","numberOfDecimalPlaces"].includes(t)&&(this.opt.step=Number(this.opt.step.toFixed(r)),(this.opt.step<=0||this.opt.step>o)&&(this.opt.step=o,this.errorEvent.notify(e.step,this.opt)),a&&(this.opt.checkingStepSizeForScale=!1,this.opt.stepSizeForScale=this.opt.step),(this.opt.stepSizeForScale<=0||this.opt.stepSizeForScale>o)&&(this.opt.stepSizeForScale=o,this.errorEvent.notify(e.stepSizeForScale,this.opt)),this.opt.checkingStepSizeForScale&&!a&&this._checkingCorrectStepSizeForScale(e))}_checkingCorrectStepSizeForScale(e){const{maxValue:t,minValue:i}=this.opt;if(this.opt.stepSizeForScale){const s=Number.isInteger(this.opt.stepSizeForScale);for(;!Number.isInteger((t-i)/this.opt.stepSizeForScale);){if(this.opt.stepSizeForScale>1&&s)this.opt.stepSizeForScale+=1;else{if(s)break;this.opt.stepSizeForScale+=.1,this.opt.stepSizeForScale=Number(this.opt.stepSizeForScale.toFixed(1))}this.errorEvent.notify(e.stepSizeForScale,this.opt)}}}_checkingCustomValues(){const{key:e,customValues:t}=this.opt;["init","customValues"].includes(e)&&(this.opt.customValues="string"==typeof t?t.split(","):t,this.opt.customValues=this.opt.customValues.filter((e=>""!==e&&" "!==e)).map((e=>String(e).trim())),this.opt.customValues.length>0&&this._initCustomValues())}_initCustomValues(){const{customValues:e}=this.opt;1===e.length&&Array.isArray(e)&&e.push(e[0]),this.opt.minValue=0,this.opt.maxValue=e.length-1,this.opt.initAutoScaleCreation=!1,this.opt.initScaleAdjustment=!1,this.opt.checkingStepSizeForScale=!1,this.opt.initFormatted=!1,this.opt.calcNumberOfDecimalPlaces=!1,this.opt.numberOfDecimalPlaces=0,this.opt.step=1,this.opt.stepSizeForScale=1}_checkingInitValues(e){this.opt.initValueFirst=this.opt.initValueFirst??this.opt.minValue,this.opt.initValueSecond=this.opt.initValueSecond??this.opt.maxValue;const{key:t,initValueFirst:i,initValueSecond:s,minValue:r,maxValue:a,isRange:o,customValues:l}=this.opt,n=i>a||i<r,c=s>a||s<r,h=i>s;["init","initValueFirst","initValueSecond","minValue","maxValue","isRange","step","numberOfDecimalPlaces","customValues"].includes(t)&&((n||h)&&(this.opt.initValueFirst=r,this.errorEvent.notify(e.initValue,this.opt)),(c||h)&&(this.opt.initValueSecond=a,this.errorEvent.notify(e.initValue,this.opt)),this.opt.initValueFirst=o?this.opt.initValueFirst:r,this.opt.initValueFirst=this.calcTargetValue(!0,this.opt.initValueFirst),this.opt.initValueSecond=this.calcTargetValue(!0,this.opt.initValueSecond),null!==this.opt.initValueFirst&&null!==this.opt.initValueSecond&&(l.length>0?(this.opt.textValueFirst=String(l[this.opt.initValueFirst]),this.opt.textValueSecond=String(l[this.opt.initValueSecond]),this.opt.textValuesArray=[this.opt.textValueFirst,this.opt.textValueSecond]):(this.opt.textValueFirst="",this.opt.textValueSecond="",this.opt.textValuesArray=[]))),null!==this.opt.initValueFirst&&null!==this.opt.initValueSecond&&(this.opt.initValuesArray=[this.opt.initValueFirst,this.opt.initValueSecond])}};var l=function(){return Date.now().toString(36)+Math.random().toString(36).substring(2)},n=i(311);var c=class{_$selector=n();_$elemSlider=n();_$sliderProgress=n();_$elemThumbs=n();_$elemMarkers=n();_isFirstInit=!0;_verifKeysObj={setBackgroundRangeKeys:["init","showBackground","mainColor","changedValue","initValueFirst","initValueSecond","isRange","minValue","maxValue","customValues","step","calcNumberOfDecimalPlaces","numberOfDecimalPlaces"],setBackgroundSliderKeys:["init","secondColor"],setVerticalKeys:["init","isVertical"],setAutoMarginsKeys:["init","initAutoMargins","showMarkers","showScale","isVertical"],setMinAndMaxKeys:["init","minValue","maxValue","customValues"]};constructor(e){this._view=e}update(e){this._isFirstInit&&(this._init(e),this._isFirstInit=!1);const{key:t}=e,{setBackgroundRangeKeys:i,setBackgroundSliderKeys:s,setVerticalKeys:r,setAutoMarginsKeys:a,setMinAndMaxKeys:o}=this._verifKeysObj;i.includes(t)&&this._setBackgroundTheRange(e),s.includes(t)&&this._setBackgroundForSlider(e),r.includes(t)&&this._setVerticalOrientation(e),a.includes(t)&&this._setAutoMargins(e),o.includes(t)&&this._setMinAndMaxVal(e)}_init(e){const{$selector:t,$elemSlider:i,$sliderProgress:s,$elemThumbs:r,$elemMarkers:a}=e;this._$selector=t,this._$elemSlider=i,this._$sliderProgress=s,this._$elemThumbs=r,this._$elemMarkers=a,this._setEventsSlider()}_setMinAndMaxVal(e){const{minValue:t,maxValue:i,customValues:s}=e;if(this._$elemSlider.attr({"data-min":t,"data-max":i}),s.length>0){const e=s[0],t=s[s.length-1];this._$elemSlider.attr({"data-min_text":e,"data-max_text":t})}else this._$elemSlider.removeAttr("data-min_text data-max_text")}_setAutoMargins(e){const{initAutoMargins:t,showMarkers:i,showScale:s,isVertical:r}=e,a=t&&!r;if(a&&i){const e=this._$elemMarkers.eq(-1).outerHeight()||0,t=this._$elemThumbs.eq(-1).outerHeight()||0;this._$elemSlider.css("margin-top",`${e+t/1.5}px`)}else this._$elemSlider.prop("style").removeProperty("margin-top");if(a&&s){const e=this._$selector.find(".js-meta-slider__scale-point").outerHeight()||0;this._$elemSlider.css("margin-bottom",1.5*e+"px")}else this._$elemSlider.prop("style").removeProperty("margin-bottom")}_setBackgroundForSlider(e){this._$elemSlider.css("background-color",e.secondColor)}_setVerticalOrientation(e){e.isVertical?this._$elemSlider.addClass("meta-slider_vertical"):this._$elemSlider.removeClass("meta-slider_vertical")}_setBackgroundTheRange(e){if(e.showBackground){const{valuesAsPercentageArray:t,mainColor:i}=e,[s,r]=t,a={left:`${s}%`,right:100-r+"%",background:i};this._$sliderProgress.css(a)}else this._$sliderProgress.css("background","none")}_setEventsSlider(){this._$elemSlider.on("pointerdown.slider",this._handleSliderPointerdown.bind(this))}_handleSliderPointerdown(e){e.preventDefault();n(e.target).hasClass("js-meta-slider")&&this._view.updateModel(e)}};var h=function(e,t){let i=null;return(...s)=>{i||(i=setTimeout((()=>{e(...s),i&&(clearTimeout(i),i=null)}),t))}},u=i(311);var m=class{_$selector=u();_$elemSlider=u();_$elemScale=u();_$elemScalePoints=u();_scalePointsSize=0;_mapSkipScalePoints=new Map;_skipScalePointsArray=[];_isFirstInit=!0;_verifKeysObj={renderScaleKeys:["init","showScale","initAutoScaleCreation","step","stepSizeForScale","minValue","maxValue","calcNumberOfDecimalPlaces","numberOfDecimalPlaces","customValues","initFormatted","preFix","postFix","initScaleAdjustment"],setStyleKeys:["init","colorForScale","showScale"],setEventResizeKeys:["init","showScale","initScaleAdjustment"]};constructor(e){this._view=e}update(e){this._isFirstInit&&(this._init(e),this._isFirstInit=!1);const{key:t}=e,{renderScaleKeys:i,setStyleKeys:s,setEventResizeKeys:r}=this._verifKeysObj;i.includes(t)&&(this._createScale(e),this._checkingScaleSize(e),r.includes(t)&&this._setEventResize(e)),s.includes(t)&&this._setStyleForScale(e)}_init(e){const{$selector:t,$elemSlider:i,$elemScale:s}=e;this._$selector=t,this._$elemSlider=i,this._$elemScale=s}_createScale(e){if(e.showScale){this._$elemScale.empty();const{initAutoScaleCreation:t,step:i,stepSizeForScale:s,minValue:r,maxValue:a,customValues:o,initFormatted:l,preFix:n,postFix:c}=e,h=t?i:s??i,m=o.length>0,d=u(document.createDocumentFragment());let p=r;for(;p<=a;p+=h){const e=l?p.toLocaleString():p,t=`<button type="button" class="meta-slider__scale-point js-meta-slider__scale-point" \n        style="color: inherit" data-value="${p}">${n}${m?o[p]:e}${c}</button>`;d.append(t)}this._$elemScale.append(d),this._$elemScalePoints=this._$selector.find(".js-meta-slider__scale-point"),this._scalePointsSize=0,this._$elemScalePoints.each(((e,t)=>{const i=u(t),s=(Number(i.attr("data-value"))-r)/(a-r);this._calcScalePointsSize(t),i.css("left",100*s+"%")})),this._mapSkipScalePoints&&this._mapSkipScalePoints.size>0&&this._mapSkipScalePoints.clear(),this._setEventsScalePoints()}}_calcScalePointsSize(e){this._scalePointsSize+=e.offsetWidth}_setStyleForScale(e){const{colorForScale:t,showScale:i}=e;i?(this._$elemScale.css({borderColor:t,color:t,opacity:1,"pointer-events":""}),this._$elemScale.children().removeAttr("tabindex")):(this._$elemScale.css({opacity:0,"pointer-events":"none"}),this._$elemScale.children().attr("tabindex",-1))}_checkingScaleSize(e){const{showScale:t,initScaleAdjustment:i}=e;if(t&&i){const e=100,t=this._$elemSlider.outerWidth()||0;for(;this._scalePointsSize+e>t;){const t=this._scalePointsSize+e;this._skipScalePointsArray=[],this._$elemScalePoints=this._$selector.find(".js-meta-slider__scale-point:not(.meta-slider__scale-point_skipped)"),this._scalePointsSize=0;const i=this._$elemScalePoints.length;if(i<=2)break;this._$elemScalePoints.each(((e,t)=>{(e%2!=0&&i>6||i%2!=0&&i<=6||i%2==0&&(!(0===e||e===i-1)&&i<=6))&&this._setPropForSkipScalePoint(t),t.classList.contains("meta-slider__scale-point_skipped")||this._calcScalePointsSize(t)})),this._mapSkipScalePoints.set(t,[...this._skipScalePointsArray])}this._checkingSkipScalePointSize(t,e)}}_setPropForSkipScalePoint(e){const t=u(e);t.addClass("meta-slider__scale-point_skipped").attr("tabindex",-1).css({color:"transparent",borderColor:"inherit"}),this._skipScalePointsArray.push(t)}_checkingSkipScalePointSize(e,t){this._mapSkipScalePoints.forEach(((i,s)=>{e>s+t/3&&(i.forEach((e=>{e.removeAttr("tabindex").removeClass("meta-slider__scale-point_skipped").css({color:"inherit",borderColor:""}),this._calcScalePointsSize(e[0])})),this._mapSkipScalePoints.delete(s))}))}_setEventResize(e){const{showScale:t,initScaleAdjustment:i}=e,s=this._$selector.attr("data-id");t&&i?u(window).on(`resize.scale-${s}`,h(this._handleWindowResize.bind(this,e),250)):u(window).off(`resize.scale-${s}`)}_handleWindowResize(e){this._checkingScaleSize(e)}_setEventsScalePoints(){this._$elemScalePoints.each(((e,t)=>{u(t).on("click.scalePoint",this._handleScalePointClick.bind(this))}))}_handleScalePointClick(e){e.preventDefault();const t=u(e.target),i=Number(t.attr("data-value"));this._view.updateModel(e,i)}},d=i(311);var p=class{_$elemMarkers=d();_$elemThumbs=d();_isFirstInit=!0;_verifKeysObj={setValueKeys:["init","changedValue","initValueFirst","initValueSecond","customValues","preFix","postFix","calcNumberOfDecimalPlaces","numberOfDecimalPlaces","initFormatted","isRange","minValue","maxValue","step"],setStyleKeys:["init","showMarkers","mainColor","colorMarker","colorTextForMarker","colorBorderForMarker"]};update(e){this._isFirstInit&&(this._init(e),this._isFirstInit=!1);const{key:t}=e,{setValueKeys:i,setStyleKeys:s}=this._verifKeysObj;i.includes(t)&&this._setValueInMarkers(e),s.includes(t)&&this._setStyleForMarkers(e)}_init(e){const{$elemThumbs:t,$elemMarkers:i}=e;this._$elemThumbs=t,this._$elemMarkers=i}_setValueInMarkers(e){if(e.showMarkers){const{customValues:t,preFix:i,postFix:s,initFormatted:r}=e;this._$elemMarkers.each(((e,a)=>{const o=d(a);if(t.length>0)o.text(`${i}${this._$elemThumbs.eq(e).attr("data-text")}${s}`);else{const t=Number(this._$elemThumbs.eq(e).attr("data-value")),a=r?t.toLocaleString():t;o.text(`${i}${a}${s}`)}}))}}_setStyleForMarkers(e){const{mainColor:t,showMarkers:i,colorMarker:s,colorTextForMarker:r,colorBorderForMarker:a}=e,o=s||t;this._$elemMarkers.each(((e,t)=>{const s=d(t),l={display:"",color:r,"background-color":o,"border-color":a};i?s.css(l):s.css("display","none")}))}},S=i(311);class _{_$elemThumbs=S();_isFirstInit=!0;_verifKeysObj={setValueKeys:["init","changedValue","initValueFirst","initValueSecond","customValues","calcNumberOfDecimalPlaces","numberOfDecimalPlaces","isRange","minValue","maxValue","step"],setStyleKeys:["init","mainColor","colorThumb","colorBorderForThumb"],checkIsRangeKeys:["init","isRange"]};constructor(e){this._view=e}update(e){this._isFirstInit&&(this._init(e),this._isFirstInit=!1);const{key:t}=e,{setValueKeys:i,setStyleKeys:s,checkIsRangeKeys:r}=this._verifKeysObj;i.includes(t)&&this._setValueInThumbs(e),s.includes(t)&&this._setStyleForThumbs(e),r.includes(t)&&this._checkIsRange(e)}_init(e){this._$elemThumbs=e.$elemThumbs,this._setEventsThumbs(e)}_setStyleForThumbs(e){const{mainColor:t,colorThumb:i,colorBorderForThumb:s}=e,r=i||t;this._$elemThumbs.each(((e,t)=>{S(t).css({"background-color":r,"border-color":s})}))}_setValueInThumbs(e){const{initValuesArray:t,valuesAsPercentageArray:i,numberOfDecimalPlaces:s,customValues:r}=e;t.forEach(((e,t)=>{this._$elemThumbs.eq(t).css("left",`${i[t]}%`).attr("data-value",e.toFixed(s)),r.length>0?this._$elemThumbs.eq(t).attr("data-text",r[e]):this._$elemThumbs.eq(t).removeAttr("data-text")}))}_checkIsRange(e){e.isRange?this._$elemThumbs.eq(0).css("display",""):this._$elemThumbs.eq(0).css("display","none")}_setEventsThumbs(e){this._$elemThumbs.each(((t,i)=>{const s=S(i);s.on("pointerdown.thumb",this._handleThumbPointerdown.bind(this)),s.on("keydown.thumb",this._handleThumbKeydown.bind(this,e))}))}_handleThumbKeydown(e,t){const{code:i,target:s}=t,r=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown"],a=S(s);if(i&&r.includes(i)){t.preventDefault();const[s,o,l,n]=r,{step:c}=e;let h=Number(a.attr("data-value"));i!==s&&i!==n||(h-=c),i!==o&&i!==l||(h+=c),this._view.updateModel(t,h)}}_handleThumbPointerdown(e){const{target:t,pointerId:i}=e;void 0!==i&&t.setPointerCapture(i);const s=S(t);s.on("pointermove.thumb",h(this._handleThumbPointermove.bind(this),50)),s.on("pointerup.thumb",_._handleThumbPointerup.bind(this))}_handleThumbPointermove(e){this._view.updateModel(e)}static _handleThumbPointerup(e){const t=S(e.target);t.off("pointermove.thumb"),t.off("pointerup.thumb")}}var b=_;var V=class{renderError(e,t){const{$selector:i,$elemSlider:s,showError:r}=t;if(this._$selector||(this._$selector=i),r&&!this._$elemErrorInfo){const t=`<div class="error-info js-error-info">\n      <p class="error-info__text js-error-info__text">${e}</p>\n      <button type="button" class="error-info__close-btn js-error-info__close-btn">X</button>\n      </div>`;s.after(t),this._getErrorBlockSelectors(),this._setEventErrorClose()}else r&&this._$elemErrorText&&this._$elemErrorText.text(e)}_getErrorBlockSelectors(){this._$selector&&(this._$elemErrorInfo=this._$selector.find(".js-error-info"),this._$elemErrorText=this._$selector.find(".js-error-info__text"),this._$elemErrorCloseBtn=this._$selector.find(".js-error-info__close-btn"))}_setEventErrorClose(){this._$elemErrorCloseBtn&&this._$elemErrorCloseBtn.on("click.closeBtn",this._handleCloseBtnClick.bind(this))}_handleCloseBtnClick(){this._$elemErrorCloseBtn&&this._$elemErrorInfo&&(this._$elemErrorCloseBtn.off("click.closeBtn"),this._$elemErrorInfo.remove(),this._$elemErrorInfo=null,this._$elemErrorText=null,this._$elemErrorCloseBtn=null)}},g=i(311);var f=class extends a{viewError=new V;subViewsList={viewScale:new m(this),viewSlider:new c(this),viewThumbs:new b(this),viewMarkers:new p};_$selector=g();renderSlider(e){const t=l();this._$selector=e;const i=g(document.createDocumentFragment()),s=g(document.createElement("div"));s.addClass("meta-slider js-meta-slider"),this._$selector.attr("data-id",t);s.html('<div class="meta-slider__progress js-meta-slider__progress"></div>\n    <button type="button" class="meta-slider__thumb js-meta-slider__thumb meta-slider__thumb_left" data-value="" data-text="">\n      <span class="meta-slider__marker js-meta-slider__marker meta-slider__marker_left"></span>\n    </button>\n    <button type="button" class="meta-slider__thumb js-meta-slider__thumb meta-slider__thumb_right" data-value="" data-text="">\n      <span class="meta-slider__marker js-meta-slider__marker meta-slider__marker_right"></span>\n    </button>\n    <div class="meta-slider__scale js-meta-slider__scale"></div>'),i.append(s),this._$selector.append(i)}renderError(e,t){this.viewError.renderError(e,t)}updateViews(e){Object.keys(this.subViewsList).forEach((t=>{this.subViewsList[t].update(e)}))}updateModel(e,t){this.notify(e,t)}},k=i(311);class y{static initSettings=s;static typeSettings=e;static limitedProp=["key","$selector","$elemSlider","$sliderProgress","$elemMarkers","$elemScale","$elemThumbs","textValueFirst","textValueSecond","initValuesArray","textValuesArray","valuesAsPercentageArray","stepAsPercent"];static init(e,t){if(!e.data("metaSlider")){if(e.length>1)throw new Error("The selector for initializing the slider must be the only one in the list of passed selectors and unique on the page.");if(t){const e="customValues";Object.keys(t).forEach((i=>{const s=typeof t[i]===y.typeSettings[i];if(y.typeSettings[i]&&!s)throw new Error(`The slider's "${i}" property should be passed as "${y.typeSettings[i]}"`);if(i===e&&!Array.isArray(t[i]))throw new Error('The slider\'s "customValues" property should be passed as an array.')}))}const i=k.extend({},y.initSettings,t),s=new o(e,i),a=new f,l=new r(a,s);l.renderSlider(e),l.setObservers(),s.init(),e.data("metaSlider",{model:s})}return e}static setProp(e,t,i){const s=e.data("metaSlider").model.opt,r=y.limitedProp.includes(t);if(r)throw new Error(`Property '${t}' cannot be changed.`);if(r||!(t in s))throw new Error(`The '${t}' property does not exist.`);{const{model:s}=e.data("metaSlider");if(void 0===i)throw new Error(`The value property '${t}' cannot be omitted.`);s.opt[t]=i,s.opt.key=t,s.update()}return e}static getProp(e,t){if(t in e.data("metaSlider").model.opt)return e.data("metaSlider").model.opt[t];throw new Error(`The '${t}' property does not exist.`)}static getOptionsObj(e){return e.data("metaSlider").model.opt}static getCurrentValues(e){const t=e.data("metaSlider").model.opt,{customValues:i,textValuesArray:s,initValuesArray:r}=t;let a=[];return a=i.length>0?s:r,a}static destroy(e){return e.removeData("metaSlider").removeAttr("data-id").empty(),e}static subscribe(e,t){const{model:i}=e.data("metaSlider");return i.subscribe(t),e}static unsubscribe(e,t){const{model:i}=e.data("metaSlider");return i.unsubscribe(t),e}}var v=y;(e=>{e.fn.metaSlider=function(e,...t){if("string"==typeof e&&v[e])return v[e](this,...t);if(!e)return v.init(this);if("object"==typeof e)return v.init(this,e);throw new Error(`A method named ${e} does not exist for jQuery.metaSlider`)}})(i(311))}()}();